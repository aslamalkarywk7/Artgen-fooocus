# 
# يستخدم مقتطف التعليمات البرمجية المقدم OpenCV لتحميل الصور ويطبق اثنين من أدوات الاستعلام المختلفة، أحدهما للصور الفوتوغرافية ( default_interrogator_photo) والآخر للصور ذات الطراز الأنيمي ( default_interrogator_anime)، لاستخراج أو تصنيف المعلومات من الصور.

# تفصيل الكود:
# تحميل الصورة باستخدام OpenCV :

# تقوم الوظيفة cv2.imreadبقراءة الصور من القرص.
# يتم تحميل الصور كمصفوفات BGR (أزرق-أخضر-أحمر) بشكل افتراضي في OpenCV، ولكن [:, :, ::-1]يتم استخدام عملية التقطيع لتحويلها إلى تنسيق RGB (أحمر-أخضر-أزرق).
# المحققون :

# default_interrogator_photo:من المرجح أن يكون هذا المحقق نموذجًا أو وظيفة تعلُّم آلي تعالج الصور الفوتوغرافية لإرجاع العلامات أو التصنيفات الوصفية.
# default_interrogator_anime:يعمل هذا المحقق على معالجة الصور ذات الطراز الياباني، وربما يعيد العلامات أو التصنيفات المرتبطة باليابان، مثل أنواع الشخصيات، أو الإعدادات، أو السمات المرئية المحددة.
# معالجة صورتين :

# تعمل التعليمات البرمجية أولاً على معالجة red_box.jpg، والتي يمكن أن تكون صورة بأسلوب الصورة الفوتوغرافية، باستخدام مستجوب الصورة.
# بعد ذلك، يقوم بمعالجة miku.jpg، والتي من المحتمل أن تكون صورة على طراز الرسوم المتحركة (ربما صورة هاتسونا ميكو)، باستخدام محقق الرسوم المتحركة.
# المخرج :

# بالنسبة لكل صورة، تقوم وظيفة الاستجواب المعنية بمعالجة الصورة وإرجاع النتيجة (من المحتمل أن تكون قائمة من العلامات أو أي شكل آخر من أشكال التصنيف)، والتي تتم طباعتها بعد ذلك على وحدة التحكم.
# ملحوظات:
# المتطلبات : يبدو أن وحدات extras.interrogateو extras.wd14taggerهي وحدات مخصصة أو تابعة لجهات خارجية. تأكد من توفرها في بيئتك مع ملفات النموذج اللازمة للاستجواب (التصنيف).
# تنسيق الصورة : يقوم OpenCV بتحميل الصور بتنسيق BGR، ولكن معظم مكتبات معالجة الصور، بما في ذلك أدوات الاستجواب، تتوقع صورًا بتنسيق RGB. [:, :, ::-1]يعالج التحويل هذه المشكلة عن طريق قلب قنوات الألوان.
# مثال على الناتج المتوقع:
# بالنسبة لـ red_box.jpg، default_interrogator_photoقد يقوم بإرجاع علامات عامة مثل "الصندوق الأحمر"، "الكائن"، وما إلى ذلك. بالنسبة لـ miku.jpg، default_interrogator_animeقد يقوم بإرجاع علامات خاصة بالأنمي مثل "Hatsune Miku"، "الشعر الأزرق"، "vocaloid"، وما إلى ذلك، اعتمادًا على إمكانيات النماذج.

# المشاكل المحتملة:
# توفر النموذج : إذا default_interrogator_photoكان default_interrogator_animeيتطلب نماذج مدربة مسبقًا، فتأكد من تحميلها بشكل صحيح وتوافرها للاستخدام.
# مسارات الصور : يجب أن تكون مسارات الصور ( ./test_imgs/red_box.jpgو ./test_imgs/miku.jpg) صحيحة. تأكد من وجود الصور في الدليل المحدد.
import cv2
from extras.interrogate import default_interrogator as default_interrogator_photo
from extras.wd14tagger import default_interrogator as default_interrogator_anime

img = cv2.imread('./test_imgs/red_box.jpg')[:, :, ::-1].copy()
print(default_interrogator_photo(img))
img = cv2.imread('./test_imgs/miku.jpg')[:, :, ::-1].copy()
print(default_interrogator_anime(img))
